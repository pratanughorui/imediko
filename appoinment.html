<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>
    <link rel="stylesheet" href="./css/appoinment.css" />
  </head>

  <body>
    <div class="navigation">
      <div class="logo inliner">
        <img src="pics/logo.png" class="inliner" />
        <span class="name inliner"> imediko </span>
        <div class="breadcrumbs">&nbsp;&nbsp;</div>
      </div>
      <div class="menuToggle inliner go-right onlyphone">
        <i class="fa fa-bars fa-2x"></i>
      </div>
      <div class="menu inliner go-right onlypc invisible">
        <nav>
          <a href="Dashboard.html" title="Home">
            <div class="menu-btn inliner active">Home</div>
          </a>

          <a href="patreg.html" title="Registration">
            <div class="menu-btn inliner">Registration</div>
          </a>
          <a href="appoinment.html" title="Appointment">
            <div class="menu-btn inliner">Appointment</div>
          </a>

          <a href="diagnosis.html" title="Diagnosis">
            <div class="menu-btn inliner">Diagnosis</div>
          </a>

          <a href="index.html" title="logout">
            <div class="menu-btn inliner">logout</div>
          </a>
        </nav>
      </div>
      <div class="clearfix"></div>
    </div>
    <!-- --------------------------------------main container------------------------------------------------------------------------>

    <div class="container" id="blur">
      <h1>Appoinment Details</h1>
      <form action="data_appointment.php" method="post">
        <div class="row1 row">
          <div class="col">
            <div class="pat">
              <label for="fname">Pat. Code:</label>
              <input type="text" id="fname" name="firstname" value="" />
            </div>
          </div>
          <div class="col">
            <div class="button">
              <a href="patreg.html"><p>New</p></a>
            </div>
            <div onclick="toggle()" class="button">
              <p>List</p>
            </div>
          </div>
          <div class="col">
            <div class="date">
              <label for="date">Date</label>
              <input
                type="text"
                id="date_ip"
                name="firstname"
                placeholder="Patient Id"
                disabled
              />
            </div>
          </div>
          <div class="col">
            <div class="time">
              <label for="time">Time</label>
              <input
                type="text"
                id="time_ip"
                name="lastname"
                placeholder="Patient Email"
                disabled
              />
            </div>
          </div>
        </div>
        <div class="row2 row">
          <div class="col">
            <label for="fname">Patient Name:</label>
            <input type="text" id="fname" name="firstname" value="" disabled />
          </div>
          <div class="col">
            <label for="lname">Doctor Name:</label>
            <input type="text" id="lname" name="lastname" value="" disabled />
          </div>
        </div>
        <div class="row3 row">
          <div class="col">
            <label for="place">Appointment Place:</label>
            <select id="a_p" name="appo_id">
              <option value="-1">Select</option>

              <option value=""></option>
            </select>
          </div>

          <div class="col" id="appo_date">
            <label for="lname">Appointment Date:</label>
            <select name="appo_date" id="ad">
              <option value="Nil">Nil</option>

              <option
                value="<?php echo $s; ?>"
                class="c"
                style="display: none"
              ></option>
            </select>
          </div>
          <div class="col">
            <label for="lname">Appointment Time:</label>
            <input type="text" id="appo_time" name="appo_time" />
          </div>
        </div>

        <input class="submit_btn" type="submit" name="submit" />
      </form>
    </div>
    <div id="popup">
      <div class="hed_name">
        <h3>Search By</h3>
      </div>
      <div class="add_food">
        <form action="">
          <div class="row1 row">
            <div class="col">
              <div class="pat">
                <label style="font-weight: bold; margin-left: 10px" for="fname"
                  >Patient Name/ Mobile No:</label
                >
                <input style="border: 1px solid rgb(74, 74, 74);" type="text" id="fname" name="firstname" value="" />
              </div>
            </div>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Patcode</th>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Gender</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Data 1</td>
                  <td>Data 2</td>
                  <td>Data 3</td>
                </tr>
                <tr>
                  <td>Data 4</td>
                  <td>Data 5</td>
                  <td>Data 6</td>
                </tr>
                <tr>
                  <td>Data 1</td>
                  <td>Data 2</td>
                  <td>Data 3</td>
                </tr>
                <tr>
                  <td>Data 4</td>
                  <td>Data 5</td>
                  <td>Data 6</td>
                </tr>
              </tbody>
            </table>
          </div>
          <button class="button button2" onclick="toggle()">Close</button>
        </form>
      </div>
    </div>
  </body>
  <script
    src="https://kit.fontawesome.com/4334081fd1.js"
    crossorigin="anonymous"
  ></script>
  <script>
    function toggle() {
      var blur = document.getElementById("blur");
      blur.classList.toggle("active");
      var popup = document.getElementById("popup");
      popup.classList.toggle("active");
    }
  </script>
  <script src="https://use.fontawesome.com/742ca76364.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      //=====navigation
      $(".menuToggle").click(function () {
        var menu = $(".menu");
        if (menu.hasClass("invisible")) {
          $(".menuToggle i").toggleClass("fa-bars fa-times");
          $(".menu").removeClass("invisible");
          $(".menu").addClass("visible");
          menu.show("slow");
        }
      });
      $(document).mouseup(function (e) {
        var menu = $(".menu");
        if (!menu.is(e.target) && menu.has(e.target).length === 0) {
          if (menu.hasClass("visible")) {
            setTimeout(function () {
              $(".menuToggle i").toggleClass("fa-times fa-bars");
              $(".menu").removeClass("visible");
              $(".menu").addClass("invisible");
            }, 500);
            menu.hide("slow");
          }
        }
      });

      //=====radindrops
    });
    const currentDate = new Date();

    // Get individual date components
    const day = String(currentDate.getDate()).padStart(2, "0");
    const month = String(currentDate.getMonth() + 1).padStart(2, "0");
    const year = currentDate.getFullYear();

    // Concatenate the components in the desired format
    const formattedDate = `${day}-${month}-${year}`;

    const d = document.getElementById("date_ip");
    d.value = formattedDate;
    //------------------for time---------------------------------
    // Get individual time components
    const hours = String(currentDate.getHours()).padStart(2, "0");
    const minutes = String(currentDate.getMinutes()).padStart(2, "0");

    // Determine AM or PM
    const amOrPm = hours >= 12 ? "PM" : "AM";

    // Convert to 12-hour format
    const formattedHours = String(hours % 12 || 12);

    // Concatenate the components in the desired format
    const formattedTime = `${formattedHours}:${minutes} ${amOrPm}`;
    const t = document.getElementById("time_ip");
    t.value = formattedTime;
    ap = document.getElementById("a_p");
    let visible = "";
    ap.addEventListener("change", function () {
      //console.log(ap.value);
      let x;
      if (ap.value != -1) {
        x = "." + "c" + ap.value;
      } else {
        x = -1;
      }
      if (x == -1) {
        if (visible != "") {
          const elements = document.querySelectorAll(visible);
          elements.forEach((element) => {
            element.style.display = "none";
          });
          visible = "";
        }
      } else {
        if (visible == "") {
          visible = x;
        } else {
          const elements = document.querySelectorAll(visible);
          elements.forEach((element) => {
            element.style.display = "none";
          });
          visible = x;
        }
        //-------------------
        const elements = document.querySelectorAll(visible);
        elements.forEach((element) => {
          element.style.display = "block";
        });
      }
    });
    // const elements = document.querySelectorAll('.c5');
  </script>
</html>
